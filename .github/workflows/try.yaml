name: try
on:
    push:
        branches:
            - v[0-9]+.[0-9]

jobs:
    try_workflow:

        runs-on: ubuntu-latest
        steps:
            - name: Checkout code
              uses: actions/checkout@v3

            - name: Run Trivy vulnerability scanner in docker mode
              uses: aquasecurity/trivy-action@master
              with:
               image-ref: 'docker.io/my-organization/my-app:${{ github.sha }}'
               format: 'template'
               template: '@/contrib/sarif.tpl'
               output: 'trivy-results-docker.sarif'
               severity: 'CRITICAL'  
            
            - name: Run Trivy vulnerability scanner in fs mode
              uses: anandg112/trivy-action@feat/add-skip-dirs-option
              with:
                scan-type: 'fs'
                ignore-unfixed: true
                format: 'template'
                template: '@/contrib/sarif.tpl'
                output: 'trivy-results-fs.sarif'
                severity: 'CRITICAL,HIGH'
                skip-dirs: "ignored-dir"
                 



           
           
        
   